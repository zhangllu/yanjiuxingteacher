---
name: product-requirements
description: 基于可供性理论生成产品需求规格书（PRD）
depends:
  - real.md
  - cog.md
generates:
  - pr.spec.md
---

# 产品需求（可供性驱动）

## 核心理念

产品是为智能体（人类/AI）提供**行动可能性**的环境。本技能将产品想法转化为可供性驱动的需求文档。

## 前置条件

1. 读取 `real.md` 获取约束条件
2. 读取 `cog.md` 获取智能体和实体信息

## 流程

### 1. 定义产品环境

```markdown
**名称：** [产品名称]
**标语：** 一个可以[做什么]的环境
**环境描述：** [2-3句话描述行动空间]
**主要智能体：** [智能体类型及其能力]
**核心可供性：** [3-5个主要行动可能性]
```

### 2. 编写最小可供故事（MAS）

用 MAS 替代传统 MVP，按故事优先级组织：

| 优先级 | 说明 |
|--------|------|
| MAS-1 | 基础故事，使其他故事成为可能 |
| MAS-2 | 与 MAS-1 复合的故事 |
| MAS-3 | 高级/精通故事 |

**MAS 模板：**

```markdown
## MAS-N：[故事标题]

**故事主题：** [实现什么转变]

**可供性序列：**
1. [可供性]：[行动]（感知：[线索]）
2. [可供性]：[行动]（感知：[线索]）

**意义闭合：** [如何创造意义]

**依赖：** 需要 [前置] / 支持 [后续]
```

### 3. 列出可供性目录

| 级别 | 说明 |
|------|------|
| 主要 | 立即可感知，核心行动 |
| 次要 | 通过交互揭示 |
| 潜在 | 通过探索发现 |

### 4. 定义约束（引用 real.md）

- 物理约束：屏幕、输入、网络
- 结构约束：数据模型、访问控制
- 安全约束：来自 real.md

### 5. 建立感知通道

| 智能体 | 感知方式 |
|--------|----------|
| 人类 | 视觉线索（按钮、输入框、图标） |
| AI | 语义标记（HTML元素、aria、data属性） |

### 6. 定义反馈机制

- 即时（<100ms）：状态变化
- 进度（<1s）：加载指示
- 完成（<5s）：成功/失败消息

### 7. 编写验收标准

```markdown
| 标准 | 人类测试 | AI测试 |
|------|----------|--------|
| 可感知 | 视觉检查 | 元素存在 |
| 可执行 | 点击测试 | API调用 |
| 有反馈 | 看到结果 | 状态变化 |
```

## 输出结构

```markdown
# 产品需求规格书

## 1. 产品环境
## 2. 最小可供故事（MAS-1/2/3）
## 3. 可供性目录（主要/次要/潜在）
## 4. 环境约束
## 5. 感知通道
## 6. 反馈机制
## 7. 验收标准
## 8. 非可供性（禁止的动作）
## 9. 技术实现
```

## 质量检查

- [ ] 每个可供性都指定了支持的行动
- [ ] 为人类和AI定义了感知通道
- [ ] 约束来自 real.md
- [ ] MAS 形成完整故事

---

**版本：** v4.0-lite
**更新：** 2025-12-06
